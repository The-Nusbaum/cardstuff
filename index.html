<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="foo">

  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.3.1/handlebars.min.js"></script>

  <script type="text/javascript">
    Handlebars.registerHelper('getMod', function(val) {
      if (val == 10) {
        return "0";
      } else {
        var mod =  Math.floor((val - 10)/2);
        if (mod > 0) return "+" + mod;
        else return mod;
      }
    });
    Handlebars.registerHelper('doXp', function(val) {
      var xp = {"0": "10", "1/8": "25", "1/4": "50","1/2": "100","1": "200","2": "450","3": "700","4": "1100","5": "1800  ","6": "2300","7": "2900","8": "3900","9": "5000","10": "5900","11": "7200","12": "8400","13": "10000","14": "11500","15": "13000","16": "15000","17": "18000","18": "20000","19": "22000","20": "25000","21": "33000","22": "41000","23": "50000","24": "62000","25": "","26": "","27": "","28": "","29": "","30": "155000"};
      return xp[val];
    });
    function stripHandler(str) {
      str = str.replace("{@atk mw}", "Melee");
      str = str.replace("{@atk rw}", "Ranged");
      str = str.replace("{@atk mw,rw}", "Melee or Ranged");
      str = str.replace("{@h}", "");
      str = str.replace(/\{@dc ([^\}]+)\}/,"DC$1");
      str = str.replace(/\{@condition ([^\}]+)\}/,"$1");
      //wtf is this about. ONE occurence on the aboleth wont go way
      str = str.replace("{@condition charmed}","charmed");
      str = str.replace(/\{@hit ([^\}]+)\}/,"+$1");
      str = str.replace(/\{@damage ([^\}]+)\}/,"$1");
      str = str.replace(/\{@skill ([^\}]+)\}/,"$1");
      str = str.replace(/\{@recharge ([^\|]+).*\}/,"(recharge $1)");
      str = str.replace(/\{@.+ ([^\|]+).*\}/,"$1");
      str = str.replace(/\{@.+ ([^\}]+)\}/,"$1");
      return str;
    }
    Handlebars.registerHelper('strip', function(str) {return stripHandler(str)});
    Handlebars.registerHelper('doImmunRes', function(input) {
      var output = [];
      for(x in input) {
        var i = input[x];
        if (typeof i == "object") {
          var tmp = "and ";
          if(typeof i.immune != 'undefined') {
            tmp += i.immune.join(', ');
          } if(typeof i.resis != 'undefined') {
            tmp += i.resist.join(', ');
          }
          tmp += " " + i.note;
          output.push(tmp)
        } else {
          output.push(input[x])
        }
      }
      return output.join(', ');
    });
    Handlebars.registerHelper('doAc', function(input) {
      var output = [];
      for(x in input) {
        var i = input[x];
        if (typeof i == "number") {
          output.push(i);
        } else if (typeof i == "object") {
          var tmp = i.ac + " ";
          if(typeof i.from != 'undefined') {
            tmp += 'from '
            tmp += i.from.join(', ')
          }if(typeof i.condition != 'undefined') {
            tmp += i.condition
          }
          output.push(tmp)
        }
      }
      return stripHandler(output.join(', ').replace(/\{@.+? ([^|]+).*?\}/,'$1'));
    });
    Handlebars.registerHelper('doSpeed', function(input) {
      var output = [];
      for(x in input) {
        var i = input[x];
        if (typeof i == 'number') {
          output.push(x + " " + i + "ft");
        } else {
          output.push(x + " " + i.condition + " " + i.number + "ft");
        }
      }
      return output.join(', ');
    });
    Handlebars.registerHelper('doType', function(input) {
      if (typeof input == 'object') {
        return input.type + " (" + input.tags.join(', ') + ")";
      } else {
        return input;
      }
    });
    Handlebars.registerHelper('doSize', function(input) {
      switch (input) {
        case "T":
          return "Tiny";
        case "S":
          return "Small"
        case "M":
          return "Medium"
        case "L":
          return "Large"
        case "H":
          return "Huge"
        case "G":
          return "Gargantuan"
        default:
          return "Medium"
      }
    });
    Handlebars.registerHelper('doAlignment', function(input) {
      var output = [];
      for (x in input) {
        var a = input[x];
        switch (a) {
          case "L":
            output.push("Lawful");
            break;
          case "N":
            output.push("Nuetral");
            break;
          case "G":
            output.push("Good");
            break;
          case "C":
            output.push("Chaotic");
            break;
          case "E":
            output.push("Evil");
            break;
          case "A":
            output.push("Any");
            break;
          default:
            output.push("Unaliged");
        }
      }
      return output.join(" ");
    });
  </script>

  <script id="entity-template" type="text/x-handlebars-template">
    <ul class="entityCard">
      <li class="bg"><img src="https://raw.githubusercontent.com/TheGiddyLimit/TheGiddyLimit.github.io/master/img/{{source}}/{{name}}.png"</li>
      <li class="header">
        <ul class="description">
          <li class="name">{{name}}</li>
          <li class="size">{{doSize size}}</li>
          <li class="alignment">{{doAlignment alignment}}</li>
          <li class="type">{{doType type}}</li>
        </ul>
        <ul class="exp">
          <li class="cr">CR: {{cr}}</li>
          <li class="value">{{doXp cr}}xp</li>
        </ul>
      </header>
      <li class="attributes">
        <ul>
          <li class=""><dt>STR</dt><dd>{{str}}<br>({{getMod str}})</dd></li>
          <li class=""><dt>DEX</dt><dd>{{dex}}<br>({{getMod dex}})</dd></li>
          <li class=""><dt>CON</dt><dd>{{con}}<br>({{getMod con}})</dd></li>
          <li class=""><dt>INT</dt><dd>{{int}}<br>({{getMod int}})</dd></li>
          <li class=""><dt>WIS</dt><dd>{{wis}}<br>({{getMod wis}})</dd></li>
          <li class=""><dt>CHA</dt><dd>{{cha}}<br>({{getMod cha}})</dd></li>
        </ul>
      </li>
      <li class="stats">
        <ul class="">
          <li class="ac"><b>AC:</b> {{doAc ac}}</li>
          <li class="hp"><b>HP:</b> {{hp.average}} ({{hp.formula}})</li>
          <li class="speed"><b>Speed:</b> {{doSpeed speed}}</li>
          {{#if skill}}<li class="skills"><b>Skills:</b> <dl>{{#each skill}}<dt>{{@key}}</dt><dd>{{this}}</dd>{{/each}}</dl></li>{{/if}}
          {{#if save}}<li class="saves"><b>Saves:</b> <dl>{{#each save}}<dt>{{@key}}</dt> <dd>{{this}}</dd>{{/each}}</li>{{/if}}
          <li class="senses"><b>Senses:</b> <dl>{{#each senses}}<dd>{{this}}</dd>{{/each}}<dt>Passive Perception</dt> <dd>{{passive}}<dd></li>
          {{#if languagesl}}<li class="languages"><b>Languages:</b> <dl>{{#each languages}}<dd>{{this}}<dd>{{/each}}</dl></li>{{/if}}
          {{#if resist}}<li class="resistances"><b>Resistant:</b> {{doImmunRes resist}}</li>{{/if}}
          {{#if immune}}<li class="immunities"><b>Immune:</b> {{doImmunRes immune}}</li>{{/if}}
          {{#if conditionImmune}}<li class="conImmuntiies"><b>Condition Immunities:</b> <dl>{{#each conditionImmune}}<dd>{{this}}</dd>{{/each}}</dl></li>{{/if}}
        </ul>
        <hr>
      </li>
      <li class="traits">
        {{#each trait}}
        <dl><dt>{{strip name}}</dt>
          {{#each entries}}
            <dd>{{strip this}}</dd>
          {{/each}}
        </dl>
        {{/each}}
      </li>
      <li class="actions">
        <h3>Actions</h3>
        {{#each action}}
        <dl><dt>{{strip name}}</dt>
          {{#each entries}}
            <dd>{{strip this}}</dd>
          {{/each}}
        </dl>
        {{/each}}
      </li>
      {{#if legendary}}
      <li class="legendaries">
        <h3>Legendary Actions</h3>
          {{#each legendary}}
          <dl><dt>{{strip name}}</dt>
            {{#each entries}}
              <dd>{{strip this}}</dd>
            {{/each}}
          </dl>
          {{/each}}
      </li>
      {{/if}}
      <li class="source">Source: {{source}} pp{{page}}</li>
    </ul>
  </script>
  <script type="text/javascript">
    var source = document.getElementById("entity-template").innerHTML;
    var template = Handlebars.compile(source);
    var context = [
  		{
  			"name": "Goblin",
  			"size": "S",
  			"type": {
  				"type": "humanoid",
  				"tags": [
  					"goblinoid"
  				]
  			},
  			"source": "MM",
  			"alignment": [
  				"N",
  				"E"
  			],
  			"ac": [
  				{
  					"ac": 15,
  					"from": [
  						"{@item leather armor|phb}",
  						"{@item shield|phb}"
  					]
  				}
  			],
  			"hp": {
  				"average": 7,
  				"formula": "2d6"
  			},
  			"speed": {
  				"walk": 30
  			},
  			"str": 8,
  			"dex": 14,
  			"con": 10,
  			"int": 10,
  			"wis": 8,
  			"cha": 8,
  			"skill": {
  				"stealth": "+6"
  			},
  			"senses": [
  				"darkvision 60 ft."
  			],
  			"passive": 9,
  			"languages": [
  				"Common",
  				"Goblin"
  			],
  			"cr": "1/4",
  			"trait": [
  				{
  					"name": "Nimble Escape",
  					"entries": [
  						"The goblin can take the Disengage or Hide action as a bonus action on each of its turns."
  					]
  				}
  			],
  			"action": [
  				{
  					"name": "Scimitar",
  					"entries": [
  						"{@atk mw} {@hit 4} to hit, reach 5 ft., one target. {@h}5 ({@damage 1d6 + 2}) slashing damage."
  					]
  				},
  				{
  					"name": "Shortbow",
  					"entries": [
  						"{@atk rw} {@hit 4} to hit, range 80/320 ft., one target. {@h}5 ({@damage 1d6 + 2}) piercing damage."
  					]
  				}
  			],
  			"page": 166,
  			"environment": [
  				"underdark",
  				"grassland",
  				"forest",
  				"hill"
  			],
  			"soundClip": "https://media-waterdeep.cursecdn.com/file-attachments/0/234/goblin.mp3",
  			"languageTags": [
  				"C",
  				"GO"
  			],
  			"senseTags": [
  				"D"
  			],
  			"damageTags": [
  				"S",
  				"P"
  			],
  			"miscTags": [
  				"MW",
  				"RW",
  				"RNG"
  			],
  			"otherSources": [
  				{
  					"source": "LMoP"
  				},
  				{
  					"source": "PotA"
  				},
  				{
  					"source": "SKT"
  				},
  				{
  					"source": "TftYP"
  				},
  				{
  					"source": "ToA"
  				},
  				{
  					"source": "WDH"
  				},
  				{
  					"source": "WDMM"
  				},
  				{
  					"source": "GoS"
  				},
  				{
  					"source": "BGDIA"
  				}
  			]
  		},
      {
  			"name": "Aboleth",
  			"size": "L",
  			"type": "aberration",
  			"source": "MM",
  			"alignment": [
  				"L",
  				"E"
  			],
  			"ac": [
  				{
  					"ac": 17,
  					"from": [
  						"natural armor"
  					]
  				}
  			],
  			"hp": {
  				"average": 135,
  				"formula": "18d10 + 36"
  			},
  			"speed": {
  				"walk": 10,
  				"swim": 40
  			},
  			"str": 21,
  			"dex": 9,
  			"con": 15,
  			"int": 18,
  			"wis": 15,
  			"cha": 18,
  			"save": {
  				"con": "+6",
  				"int": "+8",
  				"wis": "+6"
  			},
  			"skill": {
  				"history": "+12",
  				"perception": "+10"
  			},
  			"senses": [
  				"darkvision 120 ft."
  			],
  			"passive": 20,
  			"languages": [
  				"Deep Speech",
  				"telepathy 120 ft."
  			],
  			"cr": "10",
  			"trait": [
  				{
  					"name": "Amphibious",
  					"entries": [
  						"The aboleth can breathe air and water."
  					]
  				},
  				{
  					"name": "Mucous Cloud",
  					"entries": [
  						"While underwater, the aboleth is surrounded by transformative mucus. A creature that touches the aboleth or that hits it with a melee attack while within 5 feet of it must make a {@dc 14} Constitution saving throw. On a failure, the creature is diseased for {@dice 1d4} hours. The diseased creature can breathe only underwater."
  					]
  				},
  				{
  					"name": "Probing Telepathy",
  					"entries": [
  						"If a creature communicates telepathically with the aboleth, the aboleth learns the creature's greatest desires if the aboleth can see the creature."
  					]
  				}
  			],
  			"action": [
  				{
  					"name": "Multiattack",
  					"entries": [
  						"The aboleth makes three tentacle attacks."
  					]
  				},
  				{
  					"name": "Tentacle",
  					"entries": [
  						"{@atk mw} {@hit 9} to hit, reach 10 ft., one target. {@h}12 ({@damage 2d6 + 5}) bludgeoning damage. If the target is a creature, it must succeed on a {@dc 14} Constitution saving throw or become diseased. The disease has no effect for 1 minute and can be removed by any magic that cures disease. After 1 minute, the diseased creature's skin becomes translucent and slimy, the creature can't regain hit points unless it is underwater, and the disease can be removed only by heal or another disease-curing spell of 6th level or higher. When the creature is outside a body of water, it takes 6 ({@damage 1d12}) acid damage every 10 minutes unless moisture is applied to the skin before 10 minutes have passed."
  					]
  				},
  				{
  					"name": "Tail",
  					"entries": [
  						"{@atk mw} {@hit 9} to hit, reach 10 ft., one target. {@h}15 ({@damage 3d6 + 5}) bludgeoning damage."
  					]
  				},
  				{
  					"name": "Enslave (3/Day)",
  					"entries": [
  						"The aboleth targets one creature it can see within 30 feet of it. The target must succeed on a {@dc 14} Wisdom saving throw or be magically {@condition charmed} by the aboleth until the aboleth dies or until it is on a different plane of existence from the target. The {@condition charmed} target is under the aboleth's control and can't take reactions, and the aboleth and the target can communicate telepathically with each other over any distance.",
  						"Whenever the {@condition charmed} target takes damage, the target can repeat the saving throw. On a success, the effect ends. No more than once every 24 hours, the target can also repeat the saving throw when it is at least 1 mile away from the aboleth."
  					]
  				}
  			],
  			"legendaryGroup": {
  				"name": "Aboleth",
  				"source": "MM"
  			},
  			"legendary": [
  				{
  					"name": "Detect",
  					"entries": [
  						"The aboleth makes a Wisdom ({@skill Perception}) check."
  					]
  				},
  				{
  					"name": "Tail Swipe",
  					"entries": [
  						"The aboleth makes one tail attack."
  					]
  				},
  				{
  					"name": "Psychic Drain (Costs 2 Actions)",
  					"entries": [
  						"One creature {@condition charmed} by the aboleth takes 10 ({@damage 3d6}) psychic damage, and the aboleth regains hit points equal to the damage the creature takes."
  					]
  				}
  			],
  			"page": 13,
  			"environment": [
  				"underdark"
  			],
  			"soundClip": "https://media-waterdeep.cursecdn.com/file-attachments/0/10/aboleth.mp3",
  			"traitTags": [
  				"Amphibious"
  			],
  			"actionTags": [
  				"Multiattack",
  				"Tentacles"
  			],
  			"languageTags": [
  				"DS",
  				"TP"
  			],
  			"senseTags": [
  				"SD"
  			],
  			"damageTags": [
  				"B",
  				"A",
  				"Y"
  			],
  			"miscTags": [
  				"MW",
  				"RCH"
  			],
  			"otherSources": [
  				{
  					"source": "PotA"
  				},
  				{
  					"source": "ToA"
  				},
  				{
  					"source": "WDH"
  				},
  				{
  					"source": "WDMM"
  				}
  			]
  		},
        {
    			"name": "Adult Black Dragon",
    			"size": "H",
    			"type": "dragon",
    			"source": "MM",
    			"alignment": [
    				"C",
    				"E"
    			],
    			"ac": [
    				{
    					"ac": 19,
    					"from": [
    						"natural armor"
    					]
    				}
    			],
    			"hp": {
    				"average": 195,
    				"formula": "17d12 + 85"
    			},
    			"speed": {
    				"walk": 40,
    				"fly": 80,
    				"swim": 40
    			},
    			"str": 23,
    			"dex": 14,
    			"con": 21,
    			"int": 14,
    			"wis": 13,
    			"cha": 17,
    			"save": {
    				"dex": "+7",
    				"con": "+10",
    				"wis": "+6",
    				"cha": "+8"
    			},
    			"skill": {
    				"perception": "+11",
    				"stealth": "+7"
    			},
    			"immune": [
    				"acid"
    			],
    			"senses": [
    				"blindsight 60 ft.",
    				"darkvision 120 ft."
    			],
    			"passive": 21,
    			"languages": [
    				"Common",
    				"Draconic"
    			],
    			"cr": "14",
    			"trait": [
    				{
    					"name": "Amphibious",
    					"entries": [
    						"The dragon can breathe air and water."
    					]
    				},
    				{
    					"name": "Legendary Resistance (3/Day)",
    					"entries": [
    						"If the dragon fails a saving throw, it can choose to succeed instead."
    					]
    				}
    			],
    			"action": [
    				{
    					"name": "Multiattack",
    					"entries": [
    						"The dragon can use its Frightful Presence. It then makes three attacks: one with its bite and two with its claws."
    					]
    				},
    				{
    					"name": "Bite",
    					"entries": [
    						"{@atk mw} {@hit 11} to hit, reach 10 ft., one target. {@h}17 ({@damage 2d10 + 6}) piercing damage plus 4 ({@damage 1d8}) acid damage."
    					]
    				},
    				{
    					"name": "Claw",
    					"entries": [
    						"{@atk mw} {@hit 11} to hit, reach 5 ft., one target. {@h}13 ({@damage 2d6 + 6}) slashing damage."
    					]
    				},
    				{
    					"name": "Tail",
    					"entries": [
    						"{@atk mw} {@hit 11} to hit, reach 15 ft., one target. {@h}15 ({@damage 2d8 + 6}) bludgeoning damage."
    					]
    				},
    				{
    					"name": "Frightful Presence",
    					"entries": [
    						"Each creature of the dragon's choice that is within 120 feet of the dragon and aware of it must succeed on a {@dc 16} Wisdom saving throw or become {@condition frightened} for 1 minute. A creature can repeat the saving throw at the end of each of its turns, ending the effect on itself on a success. If a creature's saving throw is successful or the effect ends for it, the creature is immune to the dragon's Frightful Presence for the next 24 hours."
    					]
    				},
    				{
    					"name": "Acid Breath {@recharge 5}",
    					"entries": [
    						"The dragon exhales acid in a 60-foot line that is 5 feet wide. Each creature in that line must make a {@dc 18} Dexterity saving throw, taking 54 ({@damage 12d8}) acid damage on a failed save, or half as much damage on a successful one."
    					]
    				}
    			],
    			"legendaryGroup": {
    				"name": "Black Dragon",
    				"source": "MM"
    			},
    			"legendary": [
    				{
    					"name": "Detect",
    					"entries": [
    						"The dragon makes a Wisdom ({@skill Perception}) check."
    					]
    				},
    				{
    					"name": "Tail Attack",
    					"entries": [
    						"The dragon makes a tail attack."
    					]
    				},
    				{
    					"name": "Wing Attack (Costs 2 Actions)",
    					"entries": [
    						"The dragon beats its wings. Each creature within 10 feet of the dragon must succeed on a {@dc 19} Dexterity saving throw or take 13 ({@damage 2d6 + 6}) bludgeoning damage and be knocked {@condition prone}. The dragon can then fly up to half its flying speed."
    					]
    				}
    			],
    			"page": 88,
    			"environment": [
    				"swamp"
    			],
    			"soundClip": "https://media-waterdeep.cursecdn.com/file-attachments/0/53/black-dragon.mp3",
    			"dragonCastingColor": "B",
    			"traitTags": [
    				"Amphibious",
    				"Legendary Resistances"
    			],
    			"actionTags": [
    				"Multiattack",
    				"Frightful Presence"
    			],
    			"languageTags": [
    				"C",
    				"DR"
    			],
    			"senseTags": [
    				"B",
    				"SD"
    			],
    			"damageTags": [
    				"P",
    				"A",
    				"S",
    				"B"
    			],
    			"miscTags": [
    				"MW",
    				"RCH",
    				"AOE"
    			],
    			"otherSources": [
    				{
    					"source": "HotDQ"
    				},
    				{
    					"source": "PotA"
    				},
    				{
    					"source": "RoT"
    				},
    				{
    					"source": "GoS"
    				}
    			]
    		},
        {
    			"name": "Tarrasque",
    			"size": "G",
    			"type": {
    				"type": "monstrosity",
    				"tags": [
    					"titan"
    				]
    			},
    			"source": "MM",
    			"alignment": [
    				"U"
    			],
    			"ac": [
    				{
    					"ac": 25,
    					"from": [
    						"natural armor"
    					]
    				}
    			],
    			"hp": {
    				"average": 676,
    				"formula": "33d20 + 330"
    			},
    			"speed": {
    				"walk": 40
    			},
    			"str": 30,
    			"dex": 11,
    			"con": 30,
    			"int": 3,
    			"wis": 11,
    			"cha": 11,
    			"save": {
    				"int": "+5",
    				"wis": "+9",
    				"cha": "+9"
    			},
    			"immune": [
    				"fire",
    				"poison",
    				{
    					"immune": [
    						"bludgeoning",
    						"piercing",
    						"slashing"
    					],
    					"note": "from nonmagical attacks"
    				}
    			],
    			"conditionImmune": [
    				"charmed",
    				"frightened",
    				"paralyzed",
    				"poisoned"
    			],
    			"senses": [
    				"blindsight 120 ft."
    			],
    			"passive": 10,
    			"cr": "30",
    			"trait": [
    				{
    					"name": "Legendary Resistance (3/Day)",
    					"entries": [
    						"If the tarrasque fails a saving throw, it can choose to succeed instead."
    					]
    				},
    				{
    					"name": "Magic Resistance",
    					"entries": [
    						"The tarrasque has advantage on saving throws against spells and other magical effects."
    					]
    				},
    				{
    					"name": "Reflective Carapace",
    					"entries": [
    						"Any time the tarrasque is targeted by a magic missile spell, a line spell, or a spell that requires a ranged attack roll, roll a {@dice d6}. On a 1 to 5, the tarrasque is unaffected. On a 6, the tarrasque is unaffected, and the effect is reflected back at the caster as though it originated from the tarrasque, turning the caster into the target."
    					]
    				},
    				{
    					"name": "Siege Monster",
    					"entries": [
    						"The tarrasque deals double damage to objects and structures."
    					]
    				}
    			],
    			"action": [
    				{
    					"name": "Multiattack",
    					"entries": [
    						"The tarrasque can use its Frightful Presence. It then makes five attacks: one with its bite, two with its claws, one with its horns, and one with its tail. It can use its Swallow instead of its bite."
    					]
    				},
    				{
    					"name": "Bite",
    					"entries": [
    						"{@atk mw} {@hit 19} to hit, reach 10 ft., one target. {@h}36 ({@damage 4d12 + 10}) piercing damage. If the target is a creature, it is {@condition grappled} (escape {@dc 20}). Until this grapple ends, the target is {@condition restrained}, and the tarrasque can't bite another target."
    					]
    				},
    				{
    					"name": "Claw",
    					"entries": [
    						"{@atk mw} {@hit 19} to hit, reach 15 ft., one target. {@h}28 ({@damage 4d8 + 10}) slashing damage."
    					]
    				},
    				{
    					"name": "Horns",
    					"entries": [
    						"{@atk mw} {@hit 19} to hit, reach 10 ft., one target. {@h}32 ({@damage 4d10 + 10}) piercing damage."
    					]
    				},
    				{
    					"name": "Tail",
    					"entries": [
    						"{@atk mw} {@hit 19} to hit, reach 20 ft., one target. {@h}24 ({@damage 4d6 + 10}) bludgeoning damage. If the target is a creature, it must succeed on a {@dc 20} Strength saving throw or be knocked {@condition prone}."
    					]
    				},
    				{
    					"name": "Frightful Presence",
    					"entries": [
    						"Each creature of the tarrasque's choice within 120 feet of it and aware of it must succeed on a {@dc 17} Wisdom saving throw or become {@condition frightened} for 1 minute. A creature can repeat the saving throw at the end of each of its turns, with disadvantage if the tarrasque is within line of sight, ending the effect on itself on a success. If a creature's saving throw is successful or the effect ends for it, the creature is immune to the tarrasque's Frightful Presence for the next 24 hours."
    					]
    				},
    				{
    					"name": "Swallow",
    					"entries": [
    						"The tarrasque makes one bite attack against a Large or smaller creature it is grappling. If the attack hits, the target takes the bite's damage, the target is swallowed, and the grapple ends. While swallowed, the creature is {@condition blinded} and {@condition restrained}, it has total cover against attacks and other effects outside the tarrasque, and it takes 56 ({@damage 16d6}) acid damage at the start of each of the tarrasque's turns.",
    						"If the tarrasque takes 60 damage or more on a single turn from a creature inside it, the tarrasque must succeed on a {@dc 20} Constitution saving throw at the end of that turn or regurgitate all swallowed creatures, which fall {@condition prone} in a space within 10 feet of the tarrasque. If the tarrasque dies, a swallowed creature is no longer {@condition restrained} by it and can escape from the corpse by using 30 feet of movement, exiting {@condition prone}."
    					]
    				}
    			],
    			"legendary": [
    				{
    					"name": "Attack",
    					"entries": [
    						"The tarrasque makes one claw attack or tail attack."
    					]
    				},
    				{
    					"name": "Move",
    					"entries": [
    						"The tarrasque moves up to half its speed."
    					]
    				},
    				{
    					"name": "Chomp (Costs 2 Actions)",
    					"entries": [
    						"The tarrasque makes one bite attack or uses its Swallow."
    					]
    				}
    			],
    			"page": 286,
    			"environment": [
    				"urban"
    			],
    			"soundClip": "https://media-waterdeep.cursecdn.com/file-attachments/0/484/tarrasque.mp3",
    			"traitTags": [
    				"Legendary Resistances",
    				"Magic Resistance",
    				"Siege Monster"
    			],
    			"actionTags": [
    				"Multiattack",
    				"Frightful Presence",
    				"Swallow"
    			],
    			"senseTags": [
    				"B"
    			],
    			"damageTags": [
    				"P",
    				"S",
    				"B",
    				"A"
    			],
    			"miscTags": [
    				"MW",
    				"RCH"
    			]
    		}
      ];
    for(z in context){
      var html    = template(context[z]);
              $('.foo').append(html)
    }

  </script>
</body>
</html>
